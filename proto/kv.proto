
syntax = "proto3";
package kv;

// Placeholder gRPC API; not used in MVP.
service Kv {
  rpc Get (GetReq) returns (GetResp);
  rpc Put (PutReq) returns (PutResp);
  rpc Delete (DelReq) returns (DelResp);
  rpc ClusterInfo (InfoReq) returns (InfoResp);
}

message GetReq { string key = 1; int32 r = 2; }
message GetResp { bytes value = 1; bool found = 2; }
message PutReq { string key = 1; bytes value = 2; int32 w = 3; int32 ttl_seconds = 4; }
message PutResp {}
message DelReq { string key = 1; }
message DelResp {}
message InfoReq {}
message InfoResp { string node_id = 1; int32 items = 2; }
